<div class="new_record">
<%= form_with(model: record, local:true) do |f| %>
   <% if record.errors.any? %>
      <div id="error_explanation">
        <h2><%= pluralize(record.errors.count, "error") %> prohibited this event from being saved:</h2>

        <ul>
        <% record.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
        </ul>
      </div>
    <% end %>

    <div>
      <%= f.label 'コメント' %>
      <%= f.text_field :comment, placeholder: '今日はどんなトレーニングをしましたか？' %>
    </div>

    <div>
      <%= link_to_add_association '種目追加', f, :events,
        data: { association_insertion_method: 'append' } %>
    </div>

    <div>
      <%= f.fields_for :events do |event| %>
        <%= render 'event_fields', f: event %>
      <% end %>
    </div>


    <div>
      <%= f.submit 'トレーニングを終了する', id: "new_record" %>
    </div>

<% end %>
</div>